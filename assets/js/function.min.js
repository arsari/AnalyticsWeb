/**
 * Web Analytics Implementation Playground
 *
 * Main function file with the source code of the different events and parameters
 * that are being sent to different analytics tools..
 *
 * @author:	Arturo Santiago-Rivera (asantiago@arsari.com)
 * @license: MIT License
 */
const UUID=`U-${self.crypto.getRandomValues(new Uint32Array(1))}`;let flagValue;if(null!==document.querySelector("#chat-toggle")){const e=location.host.includes("127.0.0.1")?"679d1f73e686090ad5e13d26":"679d1f73e686090ad5e13d27",t="analytics-web-chatbot",o={debug:()=>{},info:()=>{},warn:console.warn,error:console.error},i={kind:"user",key:localStorage.UUID??"guest",name:"Guest User"},n=LDClient.initialize(e,i,{logger:o});n.on("initialized",(()=>{flagValue=n.variation(t,!1);const e={kind:"authenticated-user",key:localStorage.UUID??UUID,name:"Authenticated User"};n.identify(e,null,(()=>{flagValue=n.variation(t,!1)}))})),n.on(`change:${t}`,((e,t)=>{}))}function hideBanner(){document.getElementById("cookie-consent-banner").style.display="none"}function showBanner(){document.getElementById("cookie-consent-banner").style.display="block"}function setConsent(e){const t={ad_storage:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_personalization:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:e.necessary?"granted":"denied",personalization_storage:e.preferences?"granted":"denied",security_storage:e.necessary?"granted":"denied"};gtag("consent","update",t),tabMessage="Consent Mode: User Update","granted"===t.analytics_storage?(localStorage.setItem("CONSENT_MODE",JSON.stringify(t)),displayJSON(logged,tabMessage)):(displayJSON(logged,tabMessage),localStorage.setItem("CONSENT_MODE",JSON.stringify(t)))}"home"!==utag_data.page_category?document.querySelector("footer").innerHTML=`<span class="env">Env->[\n  <span class="prop">${tealiumEnv}</span> ] &boxV; GA4->[ <span class="prop">${ga4Prop}</span> ] &boxV; GTM->[ <span class="prop">${gtmContainer}</span> ]\n  </span><span class="me">Coded with <span style="color: red;">&hearts;</span> by ARSARI &boxV;\n  <a id="privacy-open" name="action" href="public/privacy.html" class="me" target="_blank" title="Privacy Statement">\n    Privacy Statement\n  </a> &boxV; Best viewed in a Desktop</span>`:document.querySelector("footer").innerHTML=`<span class="env">Env->[\n  <span class="prop">${tealiumEnv}</span> ] &boxV; GA4->[ <span class="prop">${ga4Prop}</span> ] &boxV; GTM->[ <span class="prop">${gtmContainer}</span> ]\n  </span><span class="me">Coded with <span style="color: red;">&hearts;</span> by ARSARI &boxV; <a id="consent-open" name="action" href="javascript:void(0)" class="me" title="Privacy Settings">Privacy Settings</a> &boxV; <a id="privacy-footer" name="action" href="public/privacy.html" class="me" target="_blank" title="Privacy Statement">Privacy Statement</a> &boxV; Best viewed in a Desktop</span>`;const headerHeight=document.querySelector("header").offsetHeight;function displayJSON(e,t){let o="";e&&"false"!==e?o="<span>User Logged In</span>":"logout"===window.dataLayer.at(-1).event&&(o='<span class="alert">User Logged Out</span>'),document.querySelector("#json-section").innerHTML+=`<p><em>${t} [${window.dataLayer.length-1}]</em>${o}</p><pre>${JSON.stringify(window.dataLayer.at(-1),void 0,2)}</pre>`,document.querySelectorAll("pre").forEach((e=>{e.className="denied"===e.className||"normal blocked"===e.className?"normal blocked":"normal",e.previousElementSibling.className="normal",tabMessage="dataLayer.push"}));const i=null!==localStorage.getItem("CONSENT_MODE")?JSON.parse(localStorage.getItem("CONSENT_MODE")).analytics_storage:"denied",n=document.querySelector("#json-section");n.lastElementChild.scrollIntoView(),n.lastElementChild.className="granted"===i?"highlight":"denied",n.lastElementChild.previousElementSibling.classList.remove("normal")}function toggleBtns(){const e=["#logout","#search-modal","#ecommerce-modal","#download","#intlink","#intlink2","#video"];for(const t of e)null!==document.querySelector(t)&&document.querySelector(t).classList.toggle("inactive")}function ecommerceModal(){ECOMMERCE_MODAL.classList.toggle("show-modal")}function searchModal(){SEARCH_MODAL.classList.toggle("show-modal")}function formModal(){FORM_MODAL.classList.toggle("show-modal"),document.querySelector(".ty-message-wrap").classList.remove("show"),document.querySelector(".form-wrap").classList.remove("hide"),document.getElementById("fname").value="",document.getElementById("profession").value=""}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function timeStamp(){const e=new Date,t=e.getTimezoneOffset(),o=t>=0?"-":"+",i=e=>{const t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return`${e.getFullYear()}-${i(e.getMonth()+1)}-${i(e.getDate())} T${i(e.getHours())}:${i(e.getMinutes())}:${i(e.getSeconds())}.${i(e.getMilliseconds())} UTC${o}${i(t/60)}:${i(t%60)}`}function errorEvent(e,t,o){alert(t);const i=String((new Date).getTime()),n=timeStamp();let r,a,c;switch(/item/i.test(e.id)?"yes":e.id){case"yes":r="select_item",a=e.id,c=e.parentNode.parentNode.parentNode.parentNode.parentNode.previousElementSibling.innerText;break;case"checkout2":r="add_shipping_info",a="Add Shipping Info";break;case"checkout3":r="add_payment_info",a="Add Payment Info";break;default:r=e.id,a=e.innerText}const s={event_type:"content tool",button_text:a,tag_name:e.tagName,step:step.at(-1),section_heading:c??void 0,error_message:t,alert_impression:!0,e_timestamp:i,custom_timestamp:n};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:`${r}_error`,...s,logged_in:logged,user_id:o});const d=localStorage.getItem("CONSENT_MODE");null!==d&&"granted"===JSON.parse(d).analytics_storage&&(utag.link({tealium_event:`${r}_error`,...s,logged_in:logged,custom_user_id:o,user_id:o}),amplitude.setUserId(o),amplitude.track({event_type:`${r}_error`,event_properties:{...s},user_properties:{$set:{logged_in:logged,custom_user_id:o}}}),mixpanel.identify(o),mixpanel.people.set({logged_in:logged,custom_user_id:o}),mixpanel.track(`${r}_error`,{event_type:"content tool",...s})),displayJSON(logged,tabMessage)}function removeItem(e,t){const o="remove_from_cart",i=String((new Date).getTime()),n=timeStamp(),r=document.querySelector(`#removeItem${e}`),a=1===itemsSelected.length?0:itemsSelected.findIndex((t=>t.index===e)),c="Product Removed from Shopping Cart";window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged,tabMessage);const s={button_text:r.innerText,event_type:"ui interaction",tag_name:r.tagName,step:step.at(-1),section_heading:itemsSelected[a].item_category.toUpperCase(),alert_message:c,alert_impression:!0,ecommerce:{currency:"USD",value:itemsSelected[a].price,items:itemsSelected[a]},e_timestamp:i,custom_timestamp:n};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:o,...s,logged_in:logged,user_id:t});const d=localStorage.getItem("CONSENT_MODE");null!==d&&"granted"===JSON.parse(d).analytics_storage&&utag.link({tealium_event:o,...s,logged_in:logged,custom_user_id:t,user_id:t}),displayJSON(logged,tabMessage),document.querySelector("#itemsSelectedRows").removeChild(document.querySelector(`#removeItem${e}`).parentNode.parentNode),itemsValue-=itemsSelected[a].price*itemsSelected[a].quantity,document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,itemsSelected.splice(a,1),0===itemsSelected.length&&(document.querySelector("#itemsSelectedRows").innerHTML='<tr><td class="empty-cart" colspan="5">Shopping Cart is Empty</td></tr>',document.querySelector("#checkout1").classList.add("inactive"),document.querySelector("#coupon").classList.add("ghost")),alert(c)}function selectItem(e,t){const o="select_item",i=String((new Date).getTime()),n=timeStamp(),r=document.querySelector(`#Item${e}`),a=r.parentNode.parentNode.parentNode.parentNode.parentNode.previousElementSibling.innerText,c=parseInt(document.querySelector(`#qty${e}`).value);if(0===c){r.checked=!1;return void errorEvent(r,"ERROR: Selected item has zero quantity!",t)}itemsList[e].index=1*itemsSelected.length,itemsList[e].quantity=c,window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged,tabMessage);const s={button_text:r.id,event_type:"ui interaction",tag_name:r.tagName,step:step.at(-1),section_heading:a??void 0,e_timestamp:i,custom_timestamp:n},d={item_list_id:itemsList[e].item_list_id,item_list_name:itemsList[e].item_list_name,items:itemsList[e]},l={logged_in:logged,custom_user_id:t};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:o,...s,ecommerce:d,...l,user_id:t});const m=localStorage.getItem("CONSENT_MODE");null!==m&&"granted"===JSON.parse(m).analytics_storage&&(utag.link({tealium_event:o,...s,ecommerce:d,...l,user_id:t}),amplitude.setUserId(t),amplitude.track({event_type:o,event_properties:{...s,...d},user_properties:{$set:{...l}}})),displayJSON(logged,tabMessage),itemsSelected.push(itemsList[e]),itemsValue=itemsList[e].price,r.setAttribute("disabled",""),document.querySelector(`#qty${e}`).previousElementSibling.setAttribute("disabled",""),document.querySelector(`#qty${e}`).nextElementSibling.setAttribute("disabled","")}function chgQTY(e,t){let o=parseInt(document.querySelector(`#qty${e}`).value);const i=document.querySelector(`#total${e}`)??null;if("plus"===t?o+=1:o=0===o?0:o-1,document.querySelector(`#qty${e}`).value=o,null!==i){i.innerHTML=`$${(itemsSelected[itemsSelected.findIndex((t=>t.index===e))].price*o).toFixed(2)}`,itemsSelected[itemsSelected.findIndex((t=>t.index===e))].quantity=o,itemsValue=0;for(const e of itemsSelected)itemsValue+=Number((e.price*e.quantity).toFixed(2));document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`}}function chgSHIPPING(){const e=document.querySelector("#chgSHIPP").value;let t;switch(e){case"express":t=Number((.12*itemsValue).toFixed(2))+10;break;case"overnight":t=Number((.12*itemsValue).toFixed(2))+20;break;case"standard":t=Number((.12*itemsValue).toFixed(2));break;default:t=shipping}document.querySelector("#shippingCost").innerHTML=`$ ${t.toFixed(2)}`,document.querySelector("#total").innerHTML=`$ ${(itemsValue+tax+t).toFixed(2)}`,CUSTOMER_INFO.shipping=e}function creditCardType(){const e=document.querySelector("#cardnum").value.trim();return/^(?:2131|1800|35\d{3})\d{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.global.jcb/en/about-us/brand-concept/images/index/pic_jcbcard_02.png" alt="JCB"/>'):/^3[47][0-9]{13}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.aexp-static.com/cdaas/one/statics/axp-static-assets/1.8.0/package/dist/img/logos/dls-logo-bluebox-solid.svg" alt="American Express"/>'):/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.dinersclub.com/content/experience-fragments/diners-club/home-header-xf/master/_jcr_content/root/header/image.coreimg.svg/1627886360030/dci-logo-default.svg" alt="DinersClub"/>'):/^4[0-9]{12}(?:[0-9]{3})?$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://cdn.visa.com/v2/assets/images/logos/visa/blue/logo.png" alt="Visa"/>'):/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.mastercard.us/content/dam/public/mastercardcom/na/us/en/homepage/Home/mc-logo-52.svg" alt="MasterCard"/>'):/^6(?:011|5[0-9]{2})[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.discover.com/content/dam/discover/en_us/global/logos/discover-logo.svg" alt="Discover"/>'):document.querySelector("#cclogo").innerHTML=""}function creditCardDate(e,t,o){if(!t.match(/(0[1-9]|1[0-2])[/][0-9]{2}/)){const t="ERROR: Expire date format not correct [MM/YY]!";return document.querySelector("#errmsgdate").innerText=t,errorEvent(e,t,o),!1}const i=new Date,n=i.getFullYear(),r=i.getMonth()+1,a=t.split("/"),c=parseInt(a[1],10)+2e3,s=parseInt(a[0],10);if(c<n||c===n&&s<r){const t="ERROR: The credit card has expired.";return document.querySelector("#errmsgdate").innerText=t,errorEvent(e,t,o),!1}return!0}function maskNumber(e){let t=e.slice(0,2);return t+="*".repeat(e.length-4),t+=e.slice(-4),t}async function searchWord(e){const t=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${e}`);displayDefinition(await t.json())}function displayDefinition(e){if(e.title){const{title:t,resolution:o}=e;return void(document.getElementById("translate").innerHTML=`<p id="spanish-definition" class="revert search-definition">\n<strong>Message:</strong> ${t}. ${o}.</p>`)}const{definition:t}=e[0].meanings[0].definitions[0],{text:o}=e[0].phonetics[0];document.getElementById("translate").innerHTML=`<p id="spanish-definition" class="revert search-definition">\n<strong>Definition:</strong> ${t}<br/><strong>Example:</strong> ${o}</p>`}document.querySelector("main").style=`margin-top: ${headerHeight+15}px`,toggleBtns();let tempList,transactionID,userCoupon,discountTotal=0,itemsList=[],itemsSelected=[],itemsValue=0,logged=!1,panelFilled=[],shipping=0,step=[],storeEnable=!1,tabMessage="dataLayer.push",tax=0,vplay=!1,vprogress=0,vstop=!0;const CUSTOMER_INFO={},CREDIT_CARD_INFO={},ECOMMERCE_MODAL=document.querySelector(".ecommerceModal"),FORM_MODAL=document.querySelector(".formModal"),PRODUCT_LIST_1=[{item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Clothing",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short Sleeve",item_list_id:"adult_clothing",item_list_name:"Adult Clothing",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:29.95},{item_name:"Friends Pants",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Clothing",item_category2:"Kids",item_category3:"Pants",item_category4:"Crew",item_category5:"Regular Fit",item_list_id:"kids_clothing",item_list_name:"Kids Clothing",item_variant:"blue",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:59.99},{item_name:"Canyonlands Full-Zip Hoodie",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Clothing",item_category2:"Adult",item_category3:"Jackets",item_category4:"Crew",item_category5:"Long Sleeve",item_list_id:"adult_clothing",item_list_name:"Adult Clothing",item_variant:"black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:99}],PRODUCT_LIST_2=[{item_name:"GreenStride Motion 6 Mid Hiker",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Footwear",item_category2:"Mens",item_category3:"GreenStride",item_category4:"Waterproof",item_category5:"Mid Hiker",item_list_id:"mens_footwear",item_list_name:"Mens Footwear",item_variant:"leather/black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:119.95},{item_name:"Stone Street Premiun Platform",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Footwear",item_category2:"Womens",item_category3:"Chukka",item_category4:"Waterproof",item_category5:"Platform",item_list_id:"womens_footwear",item_list_name:"Womens Footwear",item_variant:"black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:140},{item_name:"Classic 6 Boot",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Footwear",item_category2:"Kids",item_category3:"Classic",item_category4:"Waterproof",item_category5:"Boot",item_list_id:"kids_footwear",item_list_name:"Kids Footwear",item_variant:"leather",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:100}],SEARCH_MODAL=document.querySelector(".searchModal"),VIDEO_DURATION=300,VIDEO_PLAYER="Best Video Player",VIDEO_TITLE="Walk in The Clouds",VIDEO_URL="/videos/phantom",ELEMENT_CLICK=document.querySelectorAll('[name="action"]');ELEMENT_CLICK.forEach((e=>{e.addEventListener("click",(()=>{let t=localStorage.UUID??"guest";const o={logged_in:logged,custom_user_id:t};let i,n,r,a,c,s,d,l,m,u,p,g,_,y,S,v,h,f,L,T,b,E,M,C=e.innerText;if(storeEnable){let i,n;L=String((new Date).getTime()),a=timeStamp();let r="ui interaction",s=0;const d=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged,tabMessage);const s="ecommerce_modal_closed"===c||"ecommerce_funnel_complete"===c?void 0:{transaction_id:transactionID??void 0,value:0===itemsValue?void 0:itemsValue.toFixed(2),tax:0===tax?void 0:tax,shipping:0===shipping?void 0:shipping,currency:0===itemsValue?void 0:"USD",coupon:userCoupon??void 0,shipping_tier:i??void 0,payment_type:n??void 0,item_list_id:/productList/i.test(e.id)?`${g.toLowerCase()}_products`:void 0,item_list_name:/productList/i.test(e.id)?`${g} Products`:void 0,items:/productList/i.test(e.id)?tempList:itemsSelected},d={button_text:C,event_type:r,tag_name:e.tagName,step:step.at(-1),section_heading:h??void 0,e_timestamp:L,custom_timestamp:a};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:c,...d,ecommerce:s,...o,user_id:t});const l=localStorage.getItem("CONSENT_MODE");if(null!==l&&"granted"===JSON.parse(l).analytics_storage&&(utag.link({tealium_event:c,...d,ecommerce:s,...o,user_id:t}),amplitude.setUserId(t),amplitude.track({event_type:c,event_properties:{...d,...s},user_properties:{$set:{...o}}}),"purchase"===c||"refund"===c))for(const e of itemsSelected){const t=e.discount>0?e.discount:0,o=(new amplitude.Revenue).setProductId(e.item_id).setPrice(Number((e.price-t).toFixed(2))).setQuantity(e.quantity).setRevenueType(c).setEventProperties({transaction_id:transactionID,item_name:e.item_name,affiliation:e.affiliation,item_brand:e.item_brand,item_category:e.item_category,item_category2:e.item_category2,item_category3:e.item_category3,item_category4:e.item_category4,item_category5:e.item_category5,item_list_id:e.item_list_id,item_list_name:e.item_list_name,item_variant:e.item_variant,location_id:e.location_id,currency:"USD",item_price:e.price,coupon:e.coupon,discount:t,shipping_tier:i??void 0});amplitude.revenue(o)}displayJSON(logged,tabMessage)},l=e=>{e.classList.toggle("active");const t=e.nextElementSibling;t.style.maxHeight?(t.style.maxHeight=null,t.style.paddingBottom=null):(t.style.maxHeight=`${t.scrollHeight}px`,t.style.paddingBottom="18px")},m=(e,o)=>{tempList=o,itemsList=itemsList.concat(o);for(const o of tempList){const i=document.createElement("tr"),n=Math.floor(1e4*Math.random());o.item_id=`SKU_${n}`,o.quantity=0;const r=[o.item_id,o.item_brand,o.item_name,o.item_variant,`$${o.price.toFixed(2)}`,o.quantity];for(const n in r){const a=document.createElement("td");"0"===n?a.insertAdjacentHTML("afterbegin",`<input id="Item${itemsList.indexOf(o)}" type="checkbox" onclick=selectItem(${itemsList.indexOf(o)},"${t}") title="Click to Select Item"><span>${r[n]}</span>`):"2"===n?a.insertAdjacentHTML("afterbegin",`${o.item_name}<br>${o.item_category2} ${o.item_category3} ${o.item_category5}`):"5"===n?a.insertAdjacentHTML("afterbegin",`<div class="container"><button onclick=chgQTY(${itemsList.indexOf(o)},"minus")>-</button><input id="qty${itemsList.indexOf(o)}" class="qty" type="text" value="${r[n]}" readonly><button onclick=chgQTY(${itemsList.indexOf(o)},"plus")>+</button></div>`):a.appendChild(document.createTextNode(r[n])),i.appendChild(a),document.querySelector(`#itemsList-${e}`).appendChild(i)}}c="view_item_list",step.push("funnel-1"),h=tempList[0].item_category.toUpperCase(),g=document.querySelector(`#productList-${e}`).innerText,g=g.charAt(0).toUpperCase()+g.slice(1).toLowerCase(),d(),tempList=void 0,panelFilled.push(e)};if("productList-1"===e.id&&(panelFilled.includes(1)||m(1,PRODUCT_LIST_1),l(e)),"productList-2"===e.id&&(panelFilled.includes(2)||m(2,PRODUCT_LIST_2),l(e)),"add_to_cart"===e.id){if(itemsValue=0,0===itemsSelected.length)return y="ERROR: Please Select a Product!",void errorEvent(e,y,t);c=e.id,step.push("funnel-1");for(const e of itemsSelected)itemsValue+=Number((e.price*e.quantity).toFixed(2));d(),document.querySelector(".add-to-cart-str").classList.add("hide");for(const e of document.querySelectorAll('[name="itemsList"]'))e.innerHTML="";for(const e of document.querySelectorAll(".accordion"))e.classList.contains("active")&&l(e);document.querySelector(".view-cart-wrap").classList.add("show");for(const e of itemsSelected){const o=document.createElement("tr"),i=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const n in i){const r=document.createElement("td");"0"===n?r.insertAdjacentHTML("afterbegin",`<button id="removeItem${e.index}" type="submit" onclick=removeItem(${e.index},"${t}")>remove</button><span style="margin-left:5px">${i[n]}</span>`):"1"===n?r.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_brand}`):"3"===n?r.insertAdjacentHTML("afterbegin",`<div class="container"><button onclick=chgQTY(${e.index},"minus")>-</button><input id="qty${e.index}" class="qty" type="text" value="${i[n]}" readonly><button onclick=chgQTY(${e.index},"plus")>+</button></div>`):"4"===n?r.insertAdjacentHTML("afterbegin",`<span id="total${e.index}">$${i[n]}</span>`):r.appendChild(document.createTextNode(i[n])),o.appendChild(r),document.querySelector("#itemsSelectedRows").appendChild(o)}}document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,c="view_cart",r="content tool",step.push("funnel-2"),document.querySelector("#step1").classList.remove("form-steps__item--active"),document.querySelector("#step1").classList.add("form-steps__item--completed"),document.querySelector("#step2").classList.add("form-steps__item--active"),d()}if("checkout1"===e.id){if(document.querySelector(".view-cart-wrap").classList.remove("show"),document.querySelector("#itemsSelectedRows").innerHTML="",document.querySelector(".checkout2-wrap").classList.add("show"),document.querySelector("#step2").classList.remove("form-steps__item--active"),document.querySelector("#step2").classList.add("form-steps__item--completed"),document.querySelector("#step3").classList.add("form-steps__item--active"),c="begin_checkout",step.push("checkout-1"),userCoupon=/summer sale/i.test(document.querySelector("#couponField").value)?"SUMMER SALE":void 0,void 0!==userCoupon){discountTotal=0,itemsValue=0,tax=0,shipping=0;for(const e of itemsSelected)e.coupon=userCoupon,s=Number((.15*e.price).toFixed(2)),e.discount=s,itemsValue+=Number(((e.price-e.discount)*e.quantity).toFixed(2)),discountTotal+=Number((e.discount*e.quantity).toFixed(2))}document.querySelector("#couponField").value="",d(),step.push("checkout-2")}if("checkout2"===e.id){if(CUSTOMER_INFO.name=document.querySelector("#sname").value.trim(),CUSTOMER_INFO.email=document.querySelector("#semail").value.trim(),CUSTOMER_INFO.address=document.querySelector("#saddress").value.trim(),CUSTOMER_INFO.city=document.querySelector("#scity").value.trim(),CUSTOMER_INFO.state=document.querySelector("#sstate").value.trim(),CUSTOMER_INFO.zip=document.querySelector("#szip").value.trim(),CUSTOMER_INFO.phone=document.querySelector("#sphone").value.trim(),CUSTOMER_INFO.shipping=document.querySelector("#shipping").value,Object.values(CUSTOMER_INFO).some((e=>""===e)))return y="ERROR: Input fields can't be blank.",void errorEvent(e,y,t);document.querySelector(".checkout2-wrap").classList.remove("show"),document.querySelector("#customerAddress").reset(),document.querySelector(".checkout3-wrap").classList.add("show"),document.querySelector("#step3").classList.remove("form-steps__item--active"),document.querySelector("#step3").classList.add("form-steps__item--completed"),document.querySelector("#step4").classList.add("form-steps__item--active"),c="add_shipping_info",i=CUSTOMER_INFO.shipping,d(),step.push("checkout-3")}if("checkout3"===e.id){if(CREDIT_CARD_INFO.ccnumber=document.querySelector("#cardnum").value.trim(),CREDIT_CARD_INFO.ccexpiration=document.querySelector("#cardexp").value.trim(),CREDIT_CARD_INFO.cccvv=document.querySelector("#cardcvv").value.trim(),CREDIT_CARD_INFO.ccname=document.querySelector("#cardname").value.trim(),CREDIT_CARD_INFO.cclogo=document.querySelector("#cclogo").innerHTML,Object.values(CREDIT_CARD_INFO).some((e=>""===e)))return y="ERROR: Input fields can't be blank.",void errorEvent(e,y,t);if(""===cclogo)return y="ERROR: Invalid Card Number.",document.querySelector("#errmsgnumber").innerText=y,errorEvent(e,y,t);if(!creditCardDate(e,CREDIT_CARD_INFO.ccexpiration,t))return;if(3!==CREDIT_CARD_INFO.cccvv.length)return y="ERROR: CVV must be 3 digits long.",document.querySelector("#errmsgcvv").innerText=y,errorEvent(e,y,t);switch(CUSTOMER_INFO.ccnumber=maskNumber(CREDIT_CARD_INFO.ccnumber),CUSTOMER_INFO.ccexpiration=CREDIT_CARD_INFO.ccexpiration,CUSTOMER_INFO.cccvv=CREDIT_CARD_INFO.cccvv,CUSTOMER_INFO.ccname=CREDIT_CARD_INFO.ccname,CUSTOMER_INFO.cclogo=CREDIT_CARD_INFO.cclogo,CUSTOMER_INFO.ccbrand=document.querySelector("#cclogo").firstElementChild.alt,document.querySelector(".checkout3-wrap").classList.remove("show"),document.querySelector("#customerPayment").reset(),document.querySelector("#cclogo").innerHTML="",document.querySelector(".summary-wrap").classList.add("show"),document.querySelector("#step4").classList.remove("form-steps__item--active"),document.querySelector("#step4").classList.add("form-steps__item--completed"),document.querySelector("#step5").classList.add("form-steps__item--active"),c="add_payment_info",n=CUSTOMER_INFO.ccbrand,d(),step.push("checkout-4"),tax=Number((.07*itemsValue).toFixed(2)),shipping=Number((.12*itemsValue).toFixed(2)),CUSTOMER_INFO.shipping){case"express":shipping+=10;break;case"overnight":shipping+=20;break;default:shipping+=0}document.querySelector("#sbname").innerHTML=CUSTOMER_INFO.name,document.querySelector("#sbaddress").innerHTML=CUSTOMER_INFO.address,document.querySelector("#sbemail").innerHTML=CUSTOMER_INFO.email,document.querySelector("#sbcity").innerHTML=`${CUSTOMER_INFO.city}, ${CUSTOMER_INFO.state} ${CUSTOMER_INFO.zip}`,document.querySelector("#sbphone").innerHTML=CUSTOMER_INFO.phone;for(const e of itemsSelected){const t=document.createElement("tr"),o=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const i in o){const n=document.createElement("td");"1"===i?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===i?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(o[i]))):n.appendChild(document.createTextNode(o[i])),t.appendChild(n),document.querySelector("#productRows").appendChild(t)}}document.querySelector("#productsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#uCoupon").innerHTML=void 0===userCoupon?"":`: ${userCoupon}`,document.querySelector("#discountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#taxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#uShipping").insertAdjacentHTML("afterbegin",`<form class="shipp"><select id="chgSHIPP" class="formInput" onchange="chgSHIPPING()"><option value="">${CUSTOMER_INFO.shipping}</option><option value="standard">Standard</option><option value="express">Express</option><option value="overnight">Overnight</option></select></form>`),document.querySelector("#shippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#total").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`,document.querySelector("#cctype").innerHTML=CUSTOMER_INFO.cclogo,document.querySelector("#ccbrand").innerHTML=CUSTOMER_INFO.ccbrand,document.querySelector("#ccnumber").innerHTML=CUSTOMER_INFO.ccnumber,document.querySelector("#ccexp").innerHTML=CUSTOMER_INFO.ccexpiration}if("purchase"===e.id){document.querySelector(".summary-wrap").classList.remove("show"),document.querySelector("#uShipping").innerHTML="",document.querySelector(".purchase-wrap").classList.add("show"),document.querySelector("#step5").classList.remove("form-steps__item--active"),document.querySelector("#step5").classList.add("form-steps__item--completed"),document.querySelector("#step6").classList.add("form-steps__item--active"),transactionID=`T-${Math.floor(1e4*Math.random())}`,c=e.id,r="conversion",step.push("checkout-end"),shipping=1*document.querySelector("#shippingCost").innerHTML.slice(2),i=CUSTOMER_INFO.shipping,d(),step.push("confirmation"),document.querySelector("#ocname").innerHTML=CUSTOMER_INFO.name,document.querySelector("#ocemail").innerHTML=CUSTOMER_INFO.email,document.querySelector("#ocaddress").innerHTML=CUSTOMER_INFO.address,document.querySelector("#occity").innerHTML=`${CUSTOMER_INFO.city}, ${CUSTOMER_INFO.state} ${CUSTOMER_INFO.zip}`,document.querySelector("#ocphone").innerHTML=CUSTOMER_INFO.phone,document.querySelector("#ocorderID").innerHTML=`Order Number ${transactionID}`,document.querySelector("#occustomerID").innerHTML=`Customer Number: ${t}`;const o=new Date;document.querySelector("#ocdate").innerHTML=`Date: ${o.toDateString()} / ${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}`,document.querySelector("#ocshipping").innerHTML=`Shipping Method: ${CUSTOMER_INFO.shipping.toUpperCase()}`;for(const e of itemsSelected){const t=document.createElement("tr"),o=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const i in o){const n=document.createElement("td");"1"===i?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===i?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(o[i]))):n.appendChild(document.createTextNode(o[i])),t.appendChild(n),document.querySelector("#ocproductRows").appendChild(t)}}document.querySelector("#ocproductsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#ocCoupon").innerHTML=void 0===userCoupon?"":`: ${userCoupon}`,document.querySelector("#ocdiscountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#octaxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#ocShipping").innerHTML=`: ${CUSTOMER_INFO.shipping.toUpperCase()}`,document.querySelector("#ocshippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#octotal").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`,document.querySelector("#occtype").innerHTML=CUSTOMER_INFO.cclogo,document.querySelector("#occbrand").innerHTML=CUSTOMER_INFO.ccbrand,document.querySelector("#occnumber").innerHTML=CUSTOMER_INFO.ccnumber,document.querySelector("#occexp").innerHTML=CUSTOMER_INFO.ccexpiration,document.querySelector("#occname").innerHTML=CUSTOMER_INFO.ccname}if("refund"===e.id){document.querySelector(".purchase-wrap").classList.remove("show"),document.querySelector(".refund-wrap").classList.add("show"),document.querySelector("#step6").classList.remove("form-steps__item--active"),document.querySelector("#step6").classList.add("form-steps__item--refunded"),document.querySelector("#step7").classList.add("form-steps__item"),document.querySelector("#step7").classList.add("form-steps__item--active"),document.querySelector("#step7").classList.add("show"),c=e.id,step.push("confirmation"),d(),document.querySelector("#rcorderID").innerHTML=`Order Number ${transactionID}`,document.querySelector("#rccustomerID").innerHTML=`Customer Number: ${t}`;const o=new Date;document.querySelector("#rcdate").innerHTML=`Date: ${o.toDateString()} / ${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}`,document.querySelector("#rcshipping").innerHTML=`Shipping Method: ${CUSTOMER_INFO.shipping.toUpperCase()}`;for(const e of itemsSelected){const t=document.createElement("tr"),o=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const i in o){const n=document.createElement("td");"1"===i?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===i?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(o[i]))):n.appendChild(document.createTextNode(o[i])),t.appendChild(n),document.querySelector("#rcproductRows").appendChild(t)}}document.querySelector("#rcproductsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#rcdiscountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#rctaxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#rcshippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#rctotal").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`}if("ecommerce-cancel"===e.id||e.id.includes("ecommerce-end")){c="ecommerce-cancel"===e.id?"ecommerce_modal_closed":"ecommerce_funnel_complete",d(),ecommerceModal(),storeEnable=!1;for(const e of document.querySelectorAll('[name="itemsList"]'))e.innerHTML="";for(const e of document.querySelectorAll(".accordion"))e.classList.contains("active")&&l(e);document.querySelector("#itemsSelectedRows").innerHTML="",document.querySelector("#productRows").innerHTML="",document.querySelector("#ocproductRows").innerHTML="",document.querySelector(".add-to-cart-str").classList.remove("hide"),document.querySelector("#checkout1").classList.remove("inactive"),document.querySelector("#coupon").classList.remove("ghost"),document.querySelectorAll('[class*="-wrap"]').forEach((e=>{e.classList.remove("show")})),document.querySelectorAll(".form-steps__item").forEach((e=>{e.classList.remove("form-steps__item--active"),e.classList.remove("form-steps__item--completed"),e.classList.remove("form-steps__item--refunded")})),document.querySelector("#step7").classList.remove("form-steps__item"),document.querySelector("#step1").classList.add("form-steps__item--active"),panelFilled=[],itemsList=[],itemsSelected=[],itemsValue=0,userCoupon=void 0,transactionID=void 0,step=[],tax=0,shipping=0,discountTotal=0}}else{if("ecommerce-modal"===e.id&&(c="ecommerce_modal_opened",ecommerceModal(),storeEnable=!0),"email"!==e.id&&"phone"!==e.id||(c="generate_lead",i="USD","email"===e.id?(n="email",s=25):(n="phone",s=50)),"form-modal"===e.id&&(c="form_start",d="form modal open",formModal()),"form"===e.id){const o=document.getElementById("fname").value,r=document.getElementById("profession").value;if(!o.trim()||!r.trim())return y="ERROR: Form inputs can't be blank.",void errorEvent(e,y,t);if(o.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return y="ERROR: PII or special characters not allowed in First Name input!",errorEvent(e,y,t),void(document.getElementById("fname").value="");if(r.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return y="ERROR: PII or special characters not allowed in Profession input!",errorEvent(e,y,t),void(document.getElementById("profession").value="");T=capitalize(r),c="form_submit",n="form filled",d="customer service",l=`Thank you for your submission, ${capitalize(o)}! We will be in touch shortly.`,i="USD",s=75,document.querySelector(".form-wrap").classList.add("hide"),document.querySelector(".ty-message-wrap").classList.add("show"),document.querySelector("#thank-you-message").innerHTML=l,setTimeout(formModal,3e3)}if("form-close"===e.id&&(c="form_modal_closed",formModal()),"download"===e.id&&(c="file_download",u=window.location.hostname,m=e.className??void 0,p=e.id),"extlink"===e.id||"github"===e.id||/pp-/.test(e.id)){c="outbound_link",_=e.href;u=new URL(_).hostname,m=e.className??void 0,p=e.id,v=!0}if("intlink"===e.id||"intlink2"===e.id||/privacy-/.test(e.id)){c="internal_link",_=e.href;u=new URL(_).hostname,m=e.className??void 0,p=e.id}"video"===e.id&&(vstop?(document.querySelector("#video .text").classList.add("playing"),document.querySelector("#video").style="background-color: red;",c="video_start",vplay=!0,vstop=!1,M="Play"):(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",c="video_stop",vplay=!1,vstop=!0,M="Stop"),b=vprogress,E=`${Number((vprogress/300*100).toFixed(1))}%`);const g=setInterval((()=>{if(vplay){vprogress+=1,L=String((new Date).getTime()),a=timeStamp();const e={event_type:"content tool",video_duration:300,video_current_time:b,video_percent:E,video_status:M,video_provider:VIDEO_PLAYER,video_title:VIDEO_TITLE,video_url:VIDEO_URL,e_timestamp:L,custom_timestamp:a},i=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:c,...e,...o,user_id:t});const i=localStorage.getItem("CONSENT_MODE");(null!==i&&"granted"===JSON.parse(i).analytics_storage||"rejected"===r||"selective"===r)&&(utag.link({tealium_event:c,...e,...o,user_id:t}),amplitude.setUserId(t),amplitude.track({event_type:c,event_properties:{...e},user_properties:{$set:{...o}}}),mixpanel.identify(t),mixpanel.people.set({...o}),mixpanel.track(c,{...e})),displayJSON(logged,tabMessage)};S=Number((vprogress/300*100).toFixed(1)),[10,25,50,75,90].includes(S)&&(c="video_progress",b=vprogress,E=`${S}%`,M=`Progress ${S}%`,i()),300===vprogress&&(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",c="video_complete",b=vprogress,E=`${S}%`,M="Complete",vprogress=0,vplay=!1,vstop=!0,clearInterval(g),i())}}),1e3);if("Stop"===M&&clearInterval(g),"search-modal"===e.id&&(c="search_modal_opened",searchModal()),"search"===e.id){if(!e.previousElementSibling.value.trim())return y="ERROR: Search term can't be blank.",void errorEvent(e,y,t);{const o=e.previousElementSibling.value.trim();if(o.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return y="ERROR: PII or special characters not allowed as Search Term.",errorEvent(e,y,t),void(e.previousElementSibling.value="");f=capitalize(o),C="Magnifying Glass";searchWord(f)}}if("search-close"===e.id&&(c="search_modal_closed",document.querySelector("#translate").firstElementChild&&(e.nextElementSibling.firstElementChild.firstElementChild.value="",e.nextElementSibling.lastElementChild.removeChild(e.nextElementSibling.lastElementChild.firstElementChild)),searchModal()),"consent-open"===e.id&&(c="consent_banner_opened",showBanner()),/^btn-/i.test(e.id)){switch(e.id){case"btn-accept-all":setConsent({necessary:!0,analytics:!0,preferences:!0,marketing:!0}),r="accepted";break;case"btn-accept-some":setConsent({necessary:!0,analytics:document.getElementById("consent-analytics").checked,preferences:document.getElementById("consent-preferences").checked,marketing:document.getElementById("consent-marketing").checked}),r="selective";break;case"btn-reject-all":r="rejected";break;default:}c="consent_mode_updated",hideBanner()}"consent-close"===e.id&&(null===localStorage.getItem("CONSENT_MODE")&&(setConsent({necessary:!0,analytics:!0,preferences:!0,marketing:!0}),r="auto-accepted"),c="consent_banner_closed",hideBanner()),"login"===e.id&&(logged=!0,t=localStorage.UUID??UUID,o.logged_in=logged,o.custom_user_id=t,localStorage.setItem("logged",logged),localStorage.setItem("UUID",t),toggleBtns(),e.classList.add("inactive")),"logout"===e.id&&(logged=!1,o.logged_in=logged,localStorage.setItem("logged",logged),toggleBtns(),document.querySelector("#login").classList.remove("inactive")),null!==document.querySelector("#chat-toggle")&&(logged&&flagValue?document.querySelector("#chat-toggle").classList.remove("hidden"):document.querySelector("#chat-toggle").classList.add("hidden"),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("send-btn"),t=document.getElementById("user-input"),o=document.getElementById("chat-window"),i=document.getElementById("chat-toggle"),n=document.getElementById("chatbot-widget"),r=document.getElementById("close-chat");function a(){const e=t.value.trim();""!==e&&(c(e,"user-message"),t.value="",setTimeout((()=>{const t=function(e){const t=e.toLowerCase();if(t.includes("hello")||t.includes("hi"))return"Hello! How can I help you today?";if(t.includes("analytics"))return"Our analytics playground lets you explore various data insights. What are you curious about?";if(t.includes("help"))return"Sure! I can help you with questions about our platform. Ask me anything!";return"I'm not sure I understand. Can you please rephrase?"}(e);c(t,"bot-message")}),500))}function c(e,t){const i=document.createElement("div");i.classList.add("message",t),i.textContent=e,o.appendChild(i),o.scrollTop=o.scrollHeight}i.addEventListener("click",(()=>{n.classList.toggle("hidden")})),r.addEventListener("click",(()=>{n.classList.add("hidden")})),e.addEventListener("click",(()=>a())),t.addEventListener("keypress",(e=>{"Enter"===e.key&&a()}))}))),"chat-toggle"==e.id&&(c="chatbot_opened"),"close-chat"==e.id&&(c="chatbot_closed"),L=String((new Date).getTime()),a=timeStamp();const h={button_text:C,contact_method:n,consent_status:r,currency:i,event_type:/generate_lead|form_submit/i.test(c)?"conversion":"ui interaction",tag_name:e.tagName,file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:d,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?l:void 0,link_domain:u,link_classes:m,link_id:p,link_url:_,link_text:/extlink|intlink|download|github|pp-|privacy-/i.test(e.id)?C:void 0,method:"login"===e.id?"Google":void 0,outbound:v,search_term:f,value:s,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:300,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:b,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:E,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:M,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:VIDEO_PLAYER,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:VIDEO_TITLE,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:VIDEO_URL,e_timestamp:L,custom_timestamp:a},I={...o,user_profession:T};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:c||e.id,...h,...I,user_id:t});const q=localStorage.getItem("CONSENT_MODE");null!==q&&"granted"===JSON.parse(q).analytics_storage&&(utag.link({tealium_event:c||e.id,...h,...I,user_id:t}),amplitude.setUserId(t),amplitude.track({event_type:c||e.id,event_properties:{...h},user_properties:{$set:{...I}}}),mixpanel.identify(t),mixpanel.people.set({...I}),mixpanel.track(c||e.id,{...h})),displayJSON(logged,tabMessage),"rejected"===r&&setConsent({necessary:!1,analytics:!1,preferences:!1,marketing:!1})}document.querySelectorAll('[name="action"]').forEach((e=>{e.removeAttribute("disabled")})),e.id.match(/close/i)||/productList/i.test(e.id)||e.setAttribute("disabled","")}))}));